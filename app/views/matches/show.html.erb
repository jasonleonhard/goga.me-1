<header>
<%= @match.black_user_email %> vs <%= @match.white_user_email %>
</header>

<br>
<br>
<br>

<svg id="board" width="<%= @width + BoardHelper::OFFSET %>" height="<%= @width + BoardHelper::OFFSET %>">
  <%= raw draw_board_svg(size: @match.board_size, width: @width) %>
  <%= raw draw_grid_intersection_points(size: @match.board_size, width: @width) %>
  <script type="text/javascript"><![CDATA[
    var board = Snap("#board");
    var dispatcher = new WebSocketRails("localhost:5006/websocket");

    dispatcher.bind('show_board', function(data) {
      console.log(data.message);
    });

    function handleMove(x,y) {
      dispatcher.trigger('update_board', {match_id: <%= @match.id %>, x: x, y: y, user_id: <%= current_user.id %>});
    }
  ]]></script>
</svg>

<script type="text/javascript">
</script>

